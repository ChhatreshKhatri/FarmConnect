<div class="col-md-4 container shadow my-3 p-3">

  <h1 class="text-center">Edit Livestock</h1>

  <hr class="text-center my-3" />

  <form class="col-md-4 container position-relative" (ngSubmit)="updateLivestock(); formSubmitted=true">
    <div class="form-group">
      <label for="Name"><b>Name:<span class="text-danger">*</span></b></label><br>
      <input #nCtrl="ngModel" name="Name" placeholder="Demo" id="Name" [(ngModel)]="extLivestock.Name" required
        class="form-control">
      @if (isFieldInvalid('Name') && nCtrl.touched) {
      <div class="error-message text-danger">Name is required</div>
      }
    </div>
    <div class="form-group">
      <label for="Species"><b>Species:<span class="text-danger">*</span></b></label><br>
      <input #sCtrl="ngModel" name="Species" placeholder="Demo" id="Species" class="form-control"
        [(ngModel)]="extLivestock.Species" required>
      @if (isFieldInvalid('Species') && sCtrl.touched) {
      <div class="error-message text-danger">Species is required</div>
      }
    </div>
    <div class="form-group">
      <label for="Age"><b>Age:<span class="text-danger">*</span></b></label>
      <input #AgeCtrl="ngModel" name="Age" placeholder="Age" id="Age" class="form-control"
        [(ngModel)]="extLivestock.Age" required>
      @if (isFieldInvalid('Age') && AgeCtrl.touched) {
      <div class="error-message text-danger">Age is required</div>
      }
    </div>

    <!-- <div class="form-group">
    <label><b>Medicine Name<span class="text-danger">*</span></b></label><br>
    <input [(ngModel)]="medicine.MedicineName" class="form-control" #MedicineName="ngModel" name="MedicineName"
      required class="form-control">
      <div *ngIf="medicine.MedicineName==''  && MedicineName.touched" class="error-message" class="text-danger">
        Medicine Name is required
      </div>
    </div> -->

    <div class="form-group">
      <label for="Breed"><b>Breed:<span class="text-danger">*</span></b></label><br>
      <input #BreedCtrl="ngModel" name="Breed" placeholder="Breed" id="Breed" class="form-control"
        [(ngModel)]="extLivestock.Breed" required>
      @if (isFieldInvalid('Breed') && BreedCtrl.touched) {
      <div class="error-message text-danger">Breed is required</div>
      }
    </div>

    <div class="form-group">
      <label for="Health"><b>Health Condition:<span class="text-danger">*</span></b></label>
      <input #HealthCtrl="ngModel" name="Health" placeholder="Health Condition" id="Health" class="form-control"
        [(ngModel)]="extLivestock.HealthCondition" required>
      @if (isFieldInvalid('HealthCondition') && HealthCtrl.touched) {
      <div class="error-message text-danger">Health condition is required</div>
      }
    </div>
    <div class="form-group">
      <label for="location"><b>Location:<span class="text-danger">*</span></b></label>
      <input #locCtrl="ngModel" name="location" placeholder="Location" id="location" class="form-control"
        [(ngModel)]="extLivestock.Location" required>
      @if (isFieldInvalid('Location') && locCtrl.touched) {
      <div class="error-message text-danger">Location is required</div>
      }
    </div>
    <div class="form-group">
      <label for="vaccine"><b>Vaccination Status:<span class="text-danger">*</span></b></label>
      <input #vacCtrl="ngModel" name="vaccine" placeholder="Vaccination Status" id="vaccine" class="form-control"
        [(ngModel)]="extLivestock.VaccinationStatus" required>
      @if (isFieldInvalid('VaccinationStatus') && vacCtrl.touched) {
      <div class="error-message text-danger">Vaccination is required</div>
      }
    </div>

    @if (message) {
    <div class="text-danger text-center">{{message}}</div>
    }
    <button type="submit" class="btn btn-primary form-control" [disabled]="!isFormValid()">Submit</button>
  </form>
</div>

<div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="viewImageModalLabel">Successfully Updated!</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Livestock details have been updated successfully.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success" (click)="clickOk()" data-bs-dismiss="modal">Ok</button>
      </div>
    </div>
  </div>
</div>